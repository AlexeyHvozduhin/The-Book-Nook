{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_array_with_holes.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_rest.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_sliced_to_array.js","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithHoles;\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableRest;\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _slicedToArray;\nvar _arrayWithHoles = _interopRequireDefault(require(\"./_array_with_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableRest = _interopRequireDefault(require(\"./_non_iterable_rest\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _slicedToArray(arr, i) {\n    return (0, _arrayWithHoles).default(arr) || (0, _iterableToArray).default(arr, i) || (0, _unsupportedIterableToArray).default(arr, i) || (0, _nonIterableRest).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","// Theme toggle\nconst themeSwitcher = document.getElementById('slider');\nconst body = document.body;\nconst header = document.getElementById('header');\nconst logo = document.getElementById('logo');\nconst mobileMenuButton = document.querySelector('[data-menu-open]');\nconst mobileMenuCloseButton = document.querySelector('[data-menu-close]');\n\nconst categoryList = document.getElementsByClassName('category_list')[0];\nconst headerLogo = document.getElementsByClassName('logo')[0];\n\nfunction toggleTheme() {\n  body.classList.toggle('dark-theme');\n  categoryList.classList.toggle('dark-theme');\n  if (body.classList.contains('dark-theme')) {\n    localStorage.setItem('theme', 'dark');\n    setDarkThemeStyles();\n  } else {\n    localStorage.setItem('theme', 'light');\n    setLightThemeStyles();\n  }\n}\n\nfunction setDarkThemeStyles() {\n  header.style.setProperty('--header-bg-color-light', '#111111');\n  header.style.setProperty('--header-border-color-light', '#fff');\n  // logo.src = './images/1-Header/logo_dark.svg';\n  // headerLogo.firstElementChild.innerHTML =\n  //   '<img src=\"./images/1-Header/logo_dark.svg\" alt=\"Logo\" id=\"logo\" />';\n  // logo.parentNode.innerHTML =\n  //   '<img src=\"./images/1-Header/logo_dark.svg\" alt=\"Logo\" id=\"logo\" />';\n  mobileMenuCloseButton.style.visibility = 'visible';\n\n  // categoryList.style.setProperty();\n}\n\nfunction setLightThemeStyles() {\n  header.style.setProperty('--header-bg-color-light', '#f9f9f9');\n  header.style.setProperty('--header-border-color-light', '#000');\n  // logo.src = './images/1-Header/logo_light.svg';\n  // headerLogo.firstElementChild.innerHTML =\n  //   '<img src=\"./images/1-Header/logo_light.svg\" alt=\"Logo\" id=\"logo\" />';\n}\n\nif (localStorage.getItem('theme') === 'dark') {\n  body.classList.add('dark-theme');\n  categoryList.classList.add('dark-theme');\n  themeSwitcher.checked = true;\n  setDarkThemeStyles();\n} else {\n  body.classList.remove('dark-theme');\n  categoryList.classList.remove('dark-theme');\n  themeSwitcher.checked = false;\n  setLightThemeStyles();\n}\n\nthemeSwitcher.addEventListener('change', toggleTheme);\n\n// Modal menu\n(() => {\n  const refs = {\n    openMenuBtn: document.querySelectorAll('[data-menu-open]'),\n    closeMenuBtn: document.querySelector('[data-menu-close]'),\n    menu: document.querySelector('[data-menu]'),\n  };\n\n  refs.openMenuBtn.forEach(el => {\n    el.addEventListener('click', toggleMenu);\n  });\n\n  refs.closeMenuBtn.addEventListener('click', toggleMenu);\n\n  function toggleMenu() {\n    refs.menu.classList.toggle('is-hidden');\n    refs.openMenuBtn.forEach(el => el.classList.toggle('is-hidden'));\n    refs.closeMenuBtn.classList.toggle('is-hidden');\n  }\n})();\n// --------------------------------Pawel--\nconst listBook = document.querySelector('.js-list');\n// const listCategory = document.querySelector('.js-container-category');\nconst listCategory = document.querySelector('.category_list');\n// const titleCategory = document.querySelector('.js-title');\nconst newTitle = document.querySelector('.title');\nlistBook.addEventListener('click', handlerClickBook);\n// -----------------запит на всі категоріі-----\nfunction serviceBook() {\n  return fetch('https://books-backend.p.goit.global/books/top-books').then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n// -------------------category list request-----\n\nfunction serviceCategory() {\n  return fetch('https://books-backend.p.goit.global/books/category-list').then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n// -----------------------request for the selected category -----\nfunction serviceThisCategory(res) {\n  return fetch(\n    `https://books-backend.p.goit.global/books/category?category=${res}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n// ----------------------- request for the selected book-------\nfunction servicesSelectedBook(idBook) {\n  return fetch(`https://books-backend.p.goit.global/books/${idBook}`).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n\nfunction arrayOrName(data) {\n  if (Array.isArray(data)) return 'Books';\n  else return data.textContent;\n}\n\nserviceBook()\n  .then(data => {\n    listBook.insertAdjacentHTML('beforeend', createMarcup(data));\n    const itemCategory = document.querySelectorAll('.js-add-list');\n    for (let i = 0; i < data.length; i += 1) {\n      itemCategory[i].insertAdjacentHTML(\n        'beforeend',\n        createBooks(data[i].books)\n      );\n    }\n  })\n  .catch(err => console.log(err));\n\nserviceCategory()\n  .then(data => {\n    listCategory.insertAdjacentHTML('beforeend', createCategory(data));\n    listCategory.addEventListener('click', onClick);\n  })\n  .catch(err => console.log(err));\n\n// КЛИК ПО КАТЕГОРИИ\nfunction onClick(evt) {\n  let result = evt.target.textContent;\n  result = result.trimStart();\n  console.log(result);\n  serviceThisCategory(result)\n    .then(data => {\n      listBook.innerHTML = createBooks(data);\n      const row = data[0].list_name;\n      const textElement = row.split(' ');\n      const titleCategory = textElement\n        .splice(0, textElement.length - 1)\n        .join(' ');\n      const spanCategory = textElement[textElement.length - 1];\n      newTitle.innerHTML = `${titleCategory} <span class=\"books\">${spanCategory}</span>`;\n    })\n    .catch(err => console.log(err));\n}\n\nfunction createMarcup(arr) {\n  return arr\n    .map(\n      ({ books: [{ list_name }] }) => `\n  <li class=\"js-item item-list\">\n        <h3 class=\"category-name\">${list_name}</h3>\n        <ul class=\"category-menu js-add-list\"></ul>\n        <button class=\"see-more-btn\" type=\"button\">SEE MORE</button>\n      </li>`\n    )\n    .join('');\n}\n\n// СОЗДАНИЕ СПИСКА КАТЕГОРИЙ\nfunction createCategory(arr) {\n  console.log(arr);\n  return arr\n    .map(\n      ({ list_name }) => `<li class=\"js-item-category category_item\">\n  ${list_name}</li>`\n    )\n    .join('');\n}\n\n// MODAL\nfunction handlerClickBook(evt) {\n  const bookItem = evt.target.closest('.js-book-item');\n  if (bookItem) {\n    const { id } = bookItem.dataset;\n    servicesSelectedBook(id).then(({ _id, book_image, author, title }) => {\n      const instance = basicLightbox.create(`<div class=\"modal\">\n               <img src=\"${book_image}\" alt=\"${_id}\"width=\"335\" height=\"485\">\n                <h3>${title}</h3>\n                <p>${author}</p>\n              </div>`);\n      instance.show();\n    });\n  }\n}\n\nfunction createBooks(arr) {\n  return arr\n    .map(\n      ({ _id, book_image, author, title }) =>\n        `<li class=\"item-image js-book-item\" data-id=\"${_id}\" >\n        <img class=\"book-image\"  src=\"${book_image}\" width=\"335\" height=\"485\" alt=\"${title}\">\n    <h3 class=\"book-title\">${title}</h3>\n    <p class=\"author-name\">${author}</p>\n      </li>`\n    )\n    .join('');\n}\n"],"names":["Object","defineProperty","module","exports","value","default","arr","Array","isArray","iter","Symbol","iterator","from","TypeError","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","obj","parcelRequire","__esModule","len","length","i","arr2","$111a013c31e2261e$exports","$111a013c31e2261e$var$_arrayWithHoles","$111a013c31e2261e$var$_iterableToArray","$111a013c31e2261e$var$_unsupportedIterableToArray","$111a013c31e2261e$var$_nonIterableRest","$111a013c31e2261e$var$_interopRequireDefault","$b8f9b7833fa37166$var$themeSwitcher","document","getElementById","$b8f9b7833fa37166$var$body","body","$b8f9b7833fa37166$var$header","$b8f9b7833fa37166$var$mobileMenuCloseButton","querySelector","$b8f9b7833fa37166$var$categoryList","getElementsByClassName","$b8f9b7833fa37166$var$setDarkThemeStyles","style","setProperty","visibility","$b8f9b7833fa37166$var$setLightThemeStyles","localStorage","getItem","classList","add","checked","remove","addEventListener","toggle","contains","setItem","refs","openMenuBtn","querySelectorAll","closeMenuBtn","menu","toggleMenu","forEach","el","$b8f9b7833fa37166$var$listBook","$b8f9b7833fa37166$var$listCategory","$b8f9b7833fa37166$var$newTitle","$b8f9b7833fa37166$var$onClick","evt","res","result","target","textContent","trimStart","console","log","fetch","concat","then","resp","ok","Error","statusText","json","data","innerHTML","$b8f9b7833fa37166$var$createBooks","textElement","list_name","split","titleCategory","splice","join","spanCategory","catch","err","map","param","_id","book_image","author","title","bookItem","closest","id","dataset","idBook","basicLightbox","create","show","insertAdjacentHTML","books","itemCategory"],"version":3,"file":"index.3473bb19.js.map"}