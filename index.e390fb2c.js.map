{"mappings":"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","sources":["src/index.js"],"sourcesContent":["// Theme toggle\nconst themeSwitcher = document.getElementById('slider');\nconst body = document.body;\nconst header = document.getElementById('header');\nconst logo = document.getElementById('logo');\nconst mobileMenuButton = document.querySelector('[data-menu-open]');\nconst mobileMenuCloseButton = document.querySelector('[data-menu-close]');\n\nconst categoryList = document.getElementsByClassName('category_list')[0];\nconst headerLogo = document.getElementsByClassName('logo')[0];\n\nfunction toggleTheme() {\n  body.classList.toggle('dark-theme');\n  categoryList.classList.toggle('dark-theme');\n  if (body.classList.contains('dark-theme')) {\n    localStorage.setItem('theme', 'dark');\n    setDarkThemeStyles();\n  } else {\n    localStorage.setItem('theme', 'light');\n    setLightThemeStyles();\n  }\n}\n\nfunction setDarkThemeStyles() {\n  header.style.setProperty('--header-bg-color-light', '#111111');\n  header.style.setProperty('--header-border-color-light', '#fff');\n  // logo.src = './images/1-Header/logo_dark.svg';\n  // headerLogo.firstElementChild.innerHTML =\n  //   '<img src=\"./images/1-Header/logo_dark.svg\" alt=\"Logo\" id=\"logo\" />';\n  // logo.parentNode.innerHTML =\n  //   '<img src=\"./images/1-Header/logo_dark.svg\" alt=\"Logo\" id=\"logo\" />';\n  mobileMenuCloseButton.style.visibility = 'visible';\n\n  // categoryList.style.setProperty();\n}\n\nfunction setLightThemeStyles() {\n  header.style.setProperty('--header-bg-color-light', '#f9f9f9');\n  header.style.setProperty('--header-border-color-light', '#000');\n  // logo.src = './images/1-Header/logo_light.svg';\n  // headerLogo.firstElementChild.innerHTML =\n  //   '<img src=\"./images/1-Header/logo_light.svg\" alt=\"Logo\" id=\"logo\" />';\n}\n\nif (localStorage.getItem('theme') === 'dark') {\n  body.classList.add('dark-theme');\n  categoryList.classList.add('dark-theme');\n  themeSwitcher.checked = true;\n  setDarkThemeStyles();\n} else {\n  body.classList.remove('dark-theme');\n  categoryList.classList.remove('dark-theme');\n  themeSwitcher.checked = false;\n  setLightThemeStyles();\n}\n\nthemeSwitcher.addEventListener('change', toggleTheme);\n\n// Modal menu\n(() => {\n  const refs = {\n    openMenuBtn: document.querySelectorAll('[data-menu-open]'),\n    closeMenuBtn: document.querySelector('[data-menu-close]'),\n    menu: document.querySelector('[data-menu]'),\n  };\n\n  refs.openMenuBtn.forEach(el => {\n    el.addEventListener('click', toggleMenu);\n  });\n\n  refs.closeMenuBtn.addEventListener('click', toggleMenu);\n\n  function toggleMenu() {\n    refs.menu.classList.toggle('is-hidden');\n    refs.openMenuBtn.forEach(el => el.classList.toggle('is-hidden'));\n    refs.closeMenuBtn.classList.toggle('is-hidden');\n  }\n})();\n// --------------------------------Pawel--\nconst listBook = document.querySelector('.js-list');\nconst listCategory = document.querySelector('.js-container-category');\nconst titleCategory = document.querySelector('.js-title');\nlistBook.addEventListener('click', handlerClickBook);\n// -----------------запит на всі категоріі-----\nfunction serviceBook() {\n  return fetch('https://books-backend.p.goit.global/books/top-books').then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n// -------------------category list request-----\n\nfunction serviceCategory() {\n  return fetch('https://books-backend.p.goit.global/books/category-list').then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n// -----------------------request for the selected category -----\nfunction serviceThisCategory(res) {\n  return fetch(\n    `https://books-backend.p.goit.global/books/category?category=${res}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n// ----------------------- request for the selected book-------\nfunction servicesSelectedBook(idBook) {\n  return fetch(`https://books-backend.p.goit.global/books/${idBook}`).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\nserviceBook()\n  .then(data => {\n    listBook.insertAdjacentHTML('beforeend', createMarcup(data));\n    const itemCategory = document.querySelectorAll('.js-add-list');\n    for (let i = 0; i < data.length; i += 1) {\n      itemCategory[i].insertAdjacentHTML(\n        'beforeend',\n        createBooks(data[i].books)\n      );\n    }\n  })\n  .catch(err => console.log(err));\n\nserviceCategory()\n  .then(data => {\n    listCategory.insertAdjacentHTML('beforeend', createCategory(data));\n    listCategory.addEventListener('click', onClick);\n  })\n  .catch(err => console.log(err));\n\nfunction onClick(evt) {\n  let result = evt.target.textContent;\n  result = result.trimStart();\n  console.log(result);\n  serviceThisCategory(result)\n    .then(data => {\n      listBook.innerHTML = createBooks(data);\n    })\n    .catch(err => console.log(err));\n}\n\nfunction createMarcup(arr) {\n  return arr\n    .map(\n      ({ books: [{ list_name }] }) => `\n  <li class=\"js-item item-list\">\n        <h3 class=\"category-name\">${list_name}</h3>\n        <ul class=\"category-menu js-add-list\"></ul>\n        <button class=\"see-more-btn\" type=\"button\">See more</button>\n      </li>`\n    )\n    .join('');\n}\n\nfunction createCategory(arr) {\n  return arr\n    .map(\n      ({ list_name }) => `<li class=\"js-item-category category_item\">\n  ${list_name}</li>`\n    )\n    .join('');\n}\n\nfunction handlerClickBook(evt) {\n  const bookItem = evt.target.closest('.js-book-item');\n  if (bookItem) {\n    const { id } = bookItem.dataset;\n    servicesSelectedBook(id).then(({ _id, book_image, author, title }) => {\n      const instance = basicLightbox.create(`<div class=\"modal\">\n               <img src=\"${book_image}\" alt=\"${_id}\"width=\"335\" height=\"485\">\n                <h3>${title}</h3>\n                <p>${author}</p>\n              </div>`);\n      instance.show();\n    });\n  }\n}\n\nfunction createBooks(arr) {\n  return arr\n    .map(\n      ({ _id, book_image, author, title }) =>\n        `<li class=\"item-image js-book-item\" data-id=\"${_id}\" >\n        <img class=\"book-image\"  src=\"${book_image}\" width=\"335\" height=\"485\" alt=\"${title}\">\n    <h3 class=\"book-title\">${title}</h3>\n    <p class=\"author-name\">${author}</p>\n      </li>`\n    )\n    .join('');\n}\n"],"names":["$1f0dc3b9307be026$var$themeSwitcher","document","getElementById","$1f0dc3b9307be026$var$body","body","$1f0dc3b9307be026$var$header","$1f0dc3b9307be026$var$mobileMenuCloseButton","querySelector","$1f0dc3b9307be026$var$categoryList","getElementsByClassName","$1f0dc3b9307be026$var$setDarkThemeStyles","style","setProperty","visibility","$1f0dc3b9307be026$var$setLightThemeStyles","localStorage","getItem","classList","add","checked","remove","addEventListener","toggle","contains","setItem","refs","openMenuBtn","querySelectorAll","closeMenuBtn","menu","toggleMenu","forEach","el","$1f0dc3b9307be026$var$listBook","$1f0dc3b9307be026$var$listCategory","$1f0dc3b9307be026$var$onClick","evt","result","target","textContent","res","trimStart","console","log","fetch","then","resp","ok","Error","statusText","json","data","innerHTML","$1f0dc3b9307be026$var$createBooks","catch","err","arr","map","_id","book_image","author","title","join","bookItem","closest","id","dataset","idBook","basicLightbox","create","show","insertAdjacentHTML","books","list_name","itemCategory","i","length"],"version":3,"file":"index.e390fb2c.js.map"}