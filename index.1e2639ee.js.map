{"mappings":"AAsCA,MAAMA,EAAO,CACXC,UAAWC,SAASC,cAAc,qBAClCC,WAAYF,SAASC,cAAc,sBACnCE,MAAOH,SAASC,cAAc,gBAC9BG,aAAcJ,SAASC,cAAc,kBAGvCH,EAAKC,UAAUM,iBAAiB,SAKX,WACnBP,EAAKK,MAAMG,UAAUC,OAAO,aAC5BP,SAASQ,KAAKF,UAAUC,OAAO,aAI/B,MAAME,EAAKX,EAAKC,UAAUW,aAAa,MAGvCC,MAFe,6CAA6CF,KAGzDG,MAAKC,IAE2C,IAA1CA,EAASC,GACZ,MAAM,IAAIC,MAAM,+BAGD,OAAVF,EAASG,MAAM,IAEvBJ,MAAKK,IACJC,QAAQC,IAAIF,GACZnB,EAAKM,aAAagB,UAA6BH,EAUhDI,KACC,EAACC,WAAEA,EAAUC,MAAEA,EAAKC,OAAEA,EAAMC,YAAEA,EAAWC,UAAEA,KAAgB,wCAC5BJ,4GAEDC,8CACCC,+CACEC,0IAGNC,EAAU,GAAGC,uOAKbD,EAAU,GAAGC,qOAKbD,EAAU,GAAGC,qNAQzCC,KAAK,IApCJV,QAAQC,IAAIF,EAAK,IAElBY,OAAMC,IAAA,G,IA3BXhC,EAAKI,WAAWG,iBAAiB,SAkEjC,WACEP,EAAKK,MAAMG,UAAUC,OAAO,aAC5BP,SAASQ,KAAKF,UAAUC,OAAO,Y","sources":["src/js/modal.js"],"sourcesContent":["function handlerClickBook(evt) {\n  console.log('qweqweqwe');\n  const bookItem = evt.target.closest('.js-book-item');\n  console.dir(evt.target);\n  if (bookItem) {\n    const { id } = bookItem.dataset;\n    servicesSelectedBook(id).then(\n      ({ book_image, title, author, description, buy_links }) => {\n        const instance =\n          basicLightbox.create(`<img class=\"cover-book\" src=\"${book_image}\" alt=\"обкладинка книжки\">     \n          <div class=\"description-book\">\n            <h3 class=\"name-book\">${title}</h3>\n             <p class=\"author-book\">${author}</p>\n             <p class=\"abstract-book\">${description}</p>\n             <ul class=\"links-tradeplatforms\">\n               <li class=\"link-item\">\n                 <a href=\"${buy_links[0].url}\">\n                   <img src=\"./images/6-Pop Up/amazon@1x.png\" alt=\"логотип Amazone\">\n                 </a>            \n               </li>\n               <li class=\"link-item\">\n                <a href=\"${buy_links[1].url}\">\n                  <img src=\"./images/6-Pop Up/book.png\" alt=\"логотип AppleBooks\">\n                </a>\n              </li>\n              <li class=\"link-item\">\n                <a href=\"${buy_links[4].url}\">\n                  <img src=\"./images/6-Pop Up/bookShop@1x.png\" alt=\"логотип BookShop\">\n                </a>\n              </li>\n            </ul>\n          </div>`);\n        instance.show();\n      }\n    );\n  }\n}\n\nconst refs = {\n  openModal: document.querySelector('[data-modal-open]'),\n  closeModal: document.querySelector('[data-modal-close]'),\n  modal: document.querySelector('[data-modal]'),\n  selectedBook: document.querySelector('selected-book'),\n};\n\nrefs.openModal.addEventListener('click', toggleModalOpen);\nrefs.closeModal.addEventListener('click', toggleModalClose);\n\n// //запит на книжку в бекенда\n\nfunction toggleModalOpen() {\n  refs.modal.classList.toggle('is-hidden');\n  document.body.classList.toggle('no-scroll');\n\n  //   // refs.backdropClick.addEventListener('click', toggleModalClose);\n\n  const ID = refs.openModal.getAttribute('id');\n  const APIURL = `https://books-backend.p.goit.global/books/${ID}`;\n\n  fetch(APIURL)\n    .then(response => {\n      //       // Перевіряємо, чи запит успішний (status код 200-299 вважається успішним)\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      //       // Парсимо JSON з відповіді\n      return response.json();\n    })\n    .then(data => {\n      console.log(data);\n      refs.selectedBook.innerHTML = createBookMarkup(data);\n      console.log(data);\n    })\n    .catch(error => {\n      // console.error('Error:', error);\n    });\n}\n\nfunction createBookMarkup(arr) {\n  return arr\n    .map(\n      ({ book_image, title, author, description, buy_links }) => `\n      <img class=\"cover-book\" src=\"${book_image}\" alt=\"обкладинка книжки\">\n          <div class=\"description-book\">\n            <h3 class=\"name-book\">${title}</h3>\n            <p class=\"author-book\">${author}</p>\n            <p class=\"abstract-book\">${description}</p>\n//             // <ul class=\"links-tradeplatforms\">\n//             //   <li class=\"link-item\">\n//             //     <a href=\"${buy_links[0].url}\">\n//             //       <img src=\"./images/6-Pop Up/amazon@1x.png\" alt=\"логотип Amazone\">\n//             //     </a>\n//             //   </li>\n//             //   <li class=\"link-item\">\n//             //     <a href=\"${buy_links[1].url}\">\n//             //       <img src=\"./images/6-Pop Up/book.png\" alt=\"логотип AppleBooks\">\n//             //     </a>\n//             //   </li>\n//             //   <li class=\"link-item\">\n//             //     <a href=\"${buy_links[4].url}\">\n//             //       <img src=\"./images/6-Pop Up/bookShop@1x.png\" alt=\"логотип BookShop\">\n//             //     </a>\n//             //   </li>\n//             // </ul>\n//        // </div>\n      `\n    )\n    .join('');\n}\n\n/*-----------------!!!!!!!!!!!!!!!!*/\n\nfunction toggleModalClose() {\n  refs.modal.classList.toggle('is-hidden');\n  document.body.classList.toggle('no-scroll');\n}\n"],"names":["$8a7e756c566dd1ea$var$refs","openModal","document","querySelector","closeModal","modal","selectedBook","addEventListener","classList","toggle","body","ID","getAttribute","fetch","then","response","ok","Error","json","data","console","log","innerHTML","map","book_image","title","author","description","buy_links","url","join","catch","error"],"version":3,"file":"index.1e2639ee.js.map"}