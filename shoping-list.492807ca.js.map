{"mappings":"YAaA,IACMA,EAAWC,SAASC,cAAc,uBAElCC,EAAWF,SAASC,cAAc,cAClCE,EAAUH,SAASC,cAAc,aACjCG,EAAeJ,SAASC,cAAc,mBACtCI,EAASL,SAASC,cAAc,YAChCK,EAAeN,SAASC,cAAc,mBACtCM,EAAUP,SAASC,cAAc,aACjCO,EAAUR,SAASC,cAAc,aAEvC,SAASQ,EAAYC,GACnB,IAzB4BC,EAyBtBC,EAZa,GAYCF,EAAa,GAC3BG,EAAWD,EAbE,EAcbE,EAAOC,OAAOD,KAAKE,cAGzB,GADAjB,EAASkB,UAAY,GACjBD,aAAaE,OAAS,EAAG,CAC3BC,QAAQC,IAAIJ,cACZ,IAAK,IAAIK,EAAIT,EAAYS,EAAIR,GAAYQ,EAAIP,EAAKI,OAAQG,IAAK,CAC7D,IAAMC,EAAMR,EAAKO,GACjB,GAA0B,SAAtBL,aAAaM,GAAiB,CAChC,IAAMC,EAAgBvB,SAASC,cAC7B,6BApCoBU,EAsCDW,EArCpBE,MAAM,6CAAoDC,OAAPd,IAAUe,MAClE,SAAAC,GACE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,M,KAgCgBL,MACxB,SAAAM,G,IAAGC,EAAGD,EAAHC,IAAKC,EAAUF,EAAVE,WAAYC,EAAMH,EAANG,OAAQC,EAAKJ,EAALI,MAAOC,EAAWL,EAAXK,YAAaC,EAASN,EAATM,UAC9CvC,EAASwC,mBACP,YACA,wGAE0Bd,OAApBS,EAAW,WAImBT,OAJVQ,EAAI,mMAKMR,OADAW,EAAM,2DAEDX,OADLa,EAAU,gEAGbb,OAFQY,EAAY,uEAEbZ,OAAPU,EAAO,qgB,IAiB3BnC,SAASC,cAAc,eAC/BuC,MAAMC,QAAU,OAC3BlB,EAAciB,MAAMC,QAAU,M,OAG7B,CACLtB,QAAQC,IAAIJ,cACUhB,SAASC,cAAc,4BAC/BuC,MAAMC,QAAU,QAEXzC,SAASC,cAAc,eAC/BuC,MAAMC,QAAU,M,EAI/B,IAAIC,EAAc,EAClB,SAASC,IACP,IAAMC,EAAa7B,OAAOD,KAAKE,cAAc6B,QAC3C,SAAAvB,G,MAA6B,SAAtBN,aAAaM,E,IACpBJ,OACI4B,EAAaC,KAAKC,KAAKJ,EA5EV,GA8EnBxC,EAAa6C,YAAcP,EAAc,EACzCrC,EAAO4C,YAAcP,EACrBpC,EAAa2C,YAAcP,EAAc,EAEtB,GAAfA,IAAkBtC,EAAa6C,YAAc,KAC7CP,GAAeI,IAAYxC,EAAa2C,YAAc,I,CAG5D/C,EAASgD,iBAAiB,SAAS,WACjCR,EAAc,EACdC,IACAlC,EAAYiC,E,IAGdvC,EAAQ+C,iBAAiB,SAAS,WAC5BR,EAAc,IAChBA,IACAC,IACAlC,EAAYiC,G,IAIhBtC,EAAa8C,iBAAiB,SAAS,WACjCR,EAAc,IAChBA,IACAC,IACAlC,EAAYiC,G,IAIhBpC,EAAa4C,iBAAiB,SAAS,WACrC,IAAMN,EAAa7B,OAAOD,KAAKE,cAAc6B,QAC3C,SAAAvB,G,MAA6B,SAAtBN,aAAaM,E,IACpBJ,OACI4B,EAAaC,KAAKC,KAAKJ,EAhHV,GAiHfF,EAAcI,IAChBJ,IACAC,IACAlC,EAAYiC,G,IAIhBnC,EAAQ2C,iBAAiB,SAAS,WAChC,IAAMN,EAAa7B,OAAOD,KAAKE,cAAc6B,QAC3C,SAAAvB,G,MAA6B,SAAtBN,aAAaM,E,IACpBJ,OACI4B,EAAaC,KAAKC,KAAKJ,EA5HV,GA6HfF,EAAcI,IAChBJ,IACAC,IACAlC,EAAYiC,G,IAIhBlC,EAAQ0C,iBAAiB,SAAS,WAChC,IAAMN,EAAa7B,OAAOD,KAAKE,cAAc6B,QAC3C,SAAAvB,G,MAA6B,SAAtBN,aAAaM,E,IACpBJ,OACI4B,EAAaC,KAAKC,KAAKJ,EAxIV,GAyInBF,EAAcI,EACdH,IACAlC,EAAYiC,E,IAGdC,IACAlC,EAAYiC,E","sources":["src/shoping-list.js"],"sourcesContent":["function servicesSelectedBook(idBook) {\n  return fetch(`https://books-backend.p.goit.global/books/${idBook}`).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nconst booksPerPage = 3; // Количество книг на одной странице\nconst bookList = document.querySelector('.shopping-book-list');\n\nconst firstBtn = document.querySelector('.first-btn');\nconst prevBtn = document.querySelector('.prev-btn');\nconst prevNumerBtn = document.querySelector('.prev-numer-btn');\nconst nowBtn = document.querySelector('.now-btn');\nconst nextNumerBtn = document.querySelector('.next-numer-btn');\nconst nextBtn = document.querySelector('.next-btn');\nconst lastBtn = document.querySelector('.last-btn');\n\nfunction displayPage(pageNumber) {\n  const startIndex = (pageNumber - 1) * booksPerPage;\n  const endIndex = startIndex + booksPerPage;\n  const keys = Object.keys(localStorage);\n\n  bookList.innerHTML = ''; // Очищаем список перед добавлением новых элементов\n  if (localStorage.length > 1) {\n    console.log(localStorage);\n    for (let i = startIndex; i < endIndex && i < keys.length; i++) {\n      const key = keys[i];\n      if (localStorage[key] === 'BOOK') {\n        const clearShopList = document.querySelector(\n          '.empty-shopping-list-div'\n        );\n        servicesSelectedBook(key).then(\n          ({ _id, book_image, author, title, description, list_name }) => {\n            bookList.insertAdjacentHTML(\n              'beforeend',\n              `<li class=\"shoping-book-card\">\n              <div class=\"shoping-book-card-img\">\n        <img src=\"${book_image}\" alt=\"${_id}\"width=\"335\" height=\"485\">\n      </div>\n      <div class=\"shoping-book-card-text\">\n        <div class=\"shoping-book-card-title_and_ganre\">\n            <h3 class=\"shoping-book-card-title\">${title}</h3>\n            <h4 class=\"shoping-book-card-ganre\">${list_name}</h4>\n            <p class=\"shoping-book-card-description\">${description}</p>\n        </div>\n        <h4 class=\"shoping-book-card-author\">${author}</h4>\n      </div>\n       <div class=\"shoping-list-images\">\n          <ul class=\"list-images\">\n            <li><a href=\"https://www.amazon.com/\" class=\"image-link image-link-amazon\"></a></li>\n            <li><a href=\"https://www.openebooks.org/\" class=\"image-link image-link-openBook\"></a></li>\n            <li><a href=\"https://bookshop.org/\" class=\"image-link image-link-bookShop\"></a></li>\n          </ul>\n        </div>\n      <button class=\"shoping-list-btn\">\n      \n    </button>\n            </li>`\n            );\n          }\n        );\n\n        const pagination = document.querySelector('.pagination');\n        pagination.style.display = 'flex';\n        clearShopList.style.display = 'none';\n      }\n    }\n  } else {\n    console.log(localStorage);\n    const clearShopList = document.querySelector('.empty-shopping-list-div');\n    clearShopList.style.display = 'block';\n\n    const pagination = document.querySelector('.pagination');\n    pagination.style.display = 'none';\n  }\n}\n\nlet currentPage = 1;\nfunction numerationButton() {\n  const totalBooks = Object.keys(localStorage).filter(\n    key => localStorage[key] === 'BOOK'\n  ).length;\n  const totalPages = Math.ceil(totalBooks / booksPerPage);\n\n  prevNumerBtn.textContent = currentPage - 1;\n  nowBtn.textContent = currentPage;\n  nextNumerBtn.textContent = currentPage + 1;\n\n  if (currentPage == 1) prevNumerBtn.textContent = '-';\n  if (currentPage == totalPages) nextNumerBtn.textContent = '-';\n}\n\nfirstBtn.addEventListener('click', () => {\n  currentPage = 1;\n  numerationButton();\n  displayPage(currentPage);\n});\n\nprevBtn.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    numerationButton();\n    displayPage(currentPage);\n  }\n});\n\nprevNumerBtn.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    numerationButton();\n    displayPage(currentPage);\n  }\n});\n\nnextNumerBtn.addEventListener('click', () => {\n  const totalBooks = Object.keys(localStorage).filter(\n    key => localStorage[key] === 'BOOK'\n  ).length;\n  const totalPages = Math.ceil(totalBooks / booksPerPage);\n  if (currentPage < totalPages) {\n    currentPage++;\n    numerationButton();\n    displayPage(currentPage);\n  }\n});\n\nnextBtn.addEventListener('click', () => {\n  const totalBooks = Object.keys(localStorage).filter(\n    key => localStorage[key] === 'BOOK'\n  ).length;\n  const totalPages = Math.ceil(totalBooks / booksPerPage);\n  if (currentPage < totalPages) {\n    currentPage++;\n    numerationButton();\n    displayPage(currentPage);\n  }\n});\n\nlastBtn.addEventListener('click', () => {\n  const totalBooks = Object.keys(localStorage).filter(\n    key => localStorage[key] === 'BOOK'\n  ).length;\n  const totalPages = Math.ceil(totalBooks / booksPerPage);\n  currentPage = totalPages;\n  numerationButton();\n  displayPage(currentPage);\n});\n\nnumerationButton();\ndisplayPage(currentPage);\n"],"names":["$31701cf0e5de0757$var$bookList","document","querySelector","$31701cf0e5de0757$var$firstBtn","$31701cf0e5de0757$var$prevBtn","$31701cf0e5de0757$var$prevNumerBtn","$31701cf0e5de0757$var$nowBtn","$31701cf0e5de0757$var$nextNumerBtn","$31701cf0e5de0757$var$nextBtn","$31701cf0e5de0757$var$lastBtn","$31701cf0e5de0757$var$displayPage","pageNumber","idBook","startIndex","endIndex","keys","Object","localStorage","innerHTML","length","console","log","i","key","clearShopList","fetch","concat","then","resp","ok","Error","statusText","json","param","_id","book_image","author","title","description","list_name","insertAdjacentHTML","style","display","$31701cf0e5de0757$var$currentPage","$31701cf0e5de0757$var$numerationButton","totalBooks","filter","totalPages","Math","ceil","textContent","addEventListener"],"version":3,"file":"shoping-list.492807ca.js.map"}