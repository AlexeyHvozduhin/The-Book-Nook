{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-54279195273c16b6.js","node_modules/@parcel/runtime-js/lib/runtime-2d9febe540dd95d2.js","node_modules/@parcel/runtime-js/lib/runtime-bd22a8a510d49d62.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.756b562a.js\\\",\\\"iaeKD\\\":\\\"logo_light.911f75c4.svg\\\",\\\"gJlzP\\\":\\\"logo_dark.65f5fe07.svg\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iaeKD\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gJlzP\")).toString();","// Theme toggle\nimport logoLight from './images/1-Header/logo_light.svg';\nimport logoDark from './images/1-Header/logo_dark.svg';\nconst themeSwitcher = document.getElementById('slider');\nconst body = document.body;\nconst header = document.getElementById('header');\nconst logo = document.getElementById('logo');\nconst mobileMenuButton = document.querySelector('[data-menu-open]');\nconst mobileMenuCloseButton = document.querySelector('[data-menu-close]');\nconst categoryList = document.getElementsByClassName('category_list')[0];\n\nfunction toggleTheme() {\n  body.classList.toggle('dark-theme');\n  if (body.classList.contains('dark-theme')) {\n    localStorage.setItem('theme', 'dark');\n    setDarkThemeStyles();\n  } else {\n    localStorage.setItem('theme', 'light');\n    setLightThemeStyles();\n  }\n}\n\nconsole.log('Fqwe');\n\nfunction setDarkThemeStyles() {\n  header.style.setProperty('--header-bg-color-light', '#111111');\n  header.style.setProperty('--header-border-color-light', '#fff');\n  logo.src = logoDark;\n  mobileMenuCloseButton.style.visibility = 'visible';\n}\n\nfunction setLightThemeStyles() {\n  header.style.setProperty('--header-bg-color-light', '#F9F9F9');\n  header.style.setProperty('--header-border-color-light', '#000');\n  logo.src = logoLight;\n}\nif (localStorage.getItem('theme') === 'dark') {\n  body.classList.add('dark-theme');\n  themeSwitcher.checked = true;\n  setDarkThemeStyles();\n} else {\n  body.classList.remove('dark-theme');\n  themeSwitcher.checked = false;\n  setLightThemeStyles();\n}\n\nthemeSwitcher.addEventListener('change', toggleTheme);\n\n// Mobile menu\n(() => {\n  const refs = {\n    openMenuBtn: document.querySelectorAll('[data-menu-open]'),\n    closeMenuBtn: document.querySelector('[data-menu-close]'),\n    menu: document.querySelector('[data-menu]'),\n  };\n\n  refs.openMenuBtn.forEach(el => {\n    el.addEventListener('click', toggleMenu);\n  });\n\n  refs.closeMenuBtn.addEventListener('click', toggleMenu);\n\n  function toggleMenu() {\n    refs.menu.classList.toggle('is-hidden');\n    refs.openMenuBtn.forEach(el => el.classList.toggle('is-hidden'));\n    refs.closeMenuBtn.classList.toggle('is-hidden');\n  }\n})();\n// --------------------------------Pawel--\nconst listBook = document.querySelector('.js-list');\n// const listCategory = document.querySelector('.js-container-category');\nconst listCategory = document.querySelector('.category_list');\n// const titleCategory = document.querySelector('.js-title');\nconst newTitle = document.querySelector('.title');\nlistBook.addEventListener('click', handlerClickBook);\n// -----------------запит на всі категоріі-----\nfunction serviceBook() {\n  return fetch('https://books-backend.p.goit.global/books/top-books').then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n// -------------------category list request-----\n\nfunction serviceCategory() {\n  return fetch('https://books-backend.p.goit.global/books/category-list').then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n// -----------------------request for the selected category -----\nfunction serviceThisCategory(res) {\n  return fetch(\n    `https://books-backend.p.goit.global/books/category?category=${res}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n// ----------------------- request for the selected book-------\nfunction servicesSelectedBook(idBook) {\n  return fetch(`https://books-backend.p.goit.global/books/${idBook}`).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n\nfunction arrayOrName(data) {\n  if (Array.isArray(data)) return 'Books';\n  else return data.textContent;\n}\n\nserviceBook()\n  .then(data => {\n    listBook.insertAdjacentHTML('beforeend', createMarcup(data));\n    const itemCategory = document.querySelectorAll('.js-add-list');\n    const seeMore = document.querySelectorAll('.js-item');\n    for (let i = 0; i < data.length; i += 1) {\n      itemCategory[i].insertAdjacentHTML(\n        'beforeend',\n        createBooks(data[i].books)\n      );\n      seeMore[i].addEventListener('click', onClickBtn);\n    }\n  })\n  .catch(err => console.log(err));\n\nserviceCategory()\n  .then(data => {\n    listCategory.insertAdjacentHTML('beforeend', createCategory(data));\n    listCategory.addEventListener('click', onClick);\n  })\n  .catch(err => console.log(err));\n\n// КЛИК ПО КАТЕГОРИИ\nfunction onClick(evt) {\n  let result = evt.target.textContent;\n  result = result.trimStart();\n  console.log(result);\n  serviceThisCategory(result)\n    .then(data => {\n      listBook.innerHTML = createBooks(data);\n      const row = data[0].list_name;\n      const textElement = row.split(' ');\n      const titleCategory = textElement\n        .splice(0, textElement.length - 1)\n        .join(' ');\n      const spanCategory = textElement[textElement.length - 1];\n      newTitle.innerHTML = `${titleCategory} <span class=\"books\">${spanCategory}</span>`;\n    })\n    .catch(err => console.log(err));\n}\n\nfunction createMarcup(arr) {\n  return arr\n    .map(\n      ({ books: [{ list_name }] }) => `\n  <li class=\"js-item item-list\">\n        <h3 class=\"category-name\">${list_name}</h3>\n        <ul class=\"category-menu js-add-list\"></ul>\n        <button class=\"see-more-btn\" type=\"button\">SEE MORE</button>\n      </li>`\n    )\n    .join('');\n}\n\n// СОЗДАНИЕ СПИСКА КАТЕГОРИЙ\nfunction createCategory(arr) {\n  console.log(arr);\n  return arr\n    .map(\n      ({ list_name }) => `<li class=\"js-item-category category_item\">\n  ${list_name}</li>`\n    )\n    .join('');\n}\n\n// MODAL\nfunction handlerClickBook(evt) {\n  const bookItem = evt.target.closest('.js-book-item');\n  if (bookItem) {\n    const { id } = bookItem.dataset;\n    servicesSelectedBook(id).then(({ book_image, title, author, description, buy_links }) => {\n      const instance = basicLightbox.create(`<div class=\"modal\">\n      <button type=\"button\" class=\"btn-modal-close\" data-modal-close>\n      <svg width=\"24\" height=\"24\">\n        <use href=\"./images/icons-sprite/symbol-defs.svg#icon-x-closer\"></use>\n      </svg>\n    </button>\n              <img class=\"cover-book-modal\" src=\"${book_image}\" alt=\"обкладинка книжки\">     \n          <div class=\"description-book\">\n            <h3 class=\"name-book-modal\">${title}</h3>\n             <p class=\"author-book-modal\">${author}</p>\n             <p class=\"abstract-book-modal\">${description}</p>\n             <ul class=\"links-tradeplatforms-modal\">\n               <li class=\"link-item\">\n                 <a href=\"${buy_links[0].url}\">\n                   <img src=\"./images/6-Pop Up/amazon@1x.png\" alt=\"логотип Amazone\">\n                 </a>            \n               </li>\n               <li class=\"link-item\">\n                <a href=\"${buy_links[1].url}\">\n                  <img src=\"./images/6-Pop Up/book.png\" alt=\"логотип AppleBooks\">\n                </a>\n              </li>\n              <li class=\"link-item\">\n                <a href=\"${buy_links[4].url}\">\n                  <img src=\"./images/6-Pop Up/bookShop@1x.png\" alt=\"логотип BookShop\">\n                </a>\n              </li>\n            </ul>\n          </div>\n                \n    <button class=\"add-remove-btn\">Add to shoping list</button>\n    <span class=\"congratulations\"\n      >Сongratulations! You have added the book to the shopping list. To delete,\n      press the button \"Remove from the shopping list\".</span\n    >\n              </div>`);\n      instance.show();\n    });\n  }\n}\n\nfunction createBooks(arr) {\n  return arr\n    .map(\n      ({ _id, book_image, author, title }) =>\n        `<li class=\"item-image js-book-item\" data-id=\"${_id}\" >\n        <img class=\"book-image\"  src=\"${book_image}\" width=\"335\" height=\"485\" alt=\"${title}\">\n    <h3 class=\"book-title\">${title}</h3>\n    <p class=\"author-name\">${author}</p>\n      </li>`\n    )\n    .join('');\n}\n\nfunction newTitleName(res) {\n  const textElement = res.split(' ');\n  const titleCategory = textElement.splice(0, textElement.length - 1).join(' ');\n  const spanCategory = textElement[textElement.length - 1];\n  newTitle.innerHTML = `${titleCategory} <span class=\"books\">${spanCategory}</span>`;\n}\n\nfunction onClickBtn(evt) {\n  const btnItem = evt.target.closest('.see-more-btn');\n  if (btnItem) {\n    let res = evt.currentTarget.children[0].textContent;\n    res = res.trimStart();\n    serviceThisCategory(res)\n      .then(data => {\n        listBook.innerHTML = createBooks(data);\n        newTitleName(res);\n      })\n      .catch(err => console.log(err));\n  }\n}\nconst btnUp = {\n  el: document.querySelector('.btn-up'),\n  show() {\n    // удалим у кнопки класс btn-up_hide\n    this.el.classList.remove('btn-up_hiden');\n  },\n  hide() {\n    // добавим к кнопке класс btn-up_hide\n    this.el.classList.add('btn-up_hiden');\n  },\n  addEventListener() {\n    // при прокрутке содержимого страницы\n    window.addEventListener('scroll', () => {\n      // определяем величину прокрутки\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n      // если страница прокручена больше чем на 400px, то делаем кнопку видимой, иначе скрываем\n      scrollY > 200 ? this.show() : this.hide();\n    });\n    // при нажатии на кнопку .btn-up\n    document.querySelector('.btn-up').onclick = () => {\n      // переместим в начало страницы\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      });\n    };\n  },\n};\n\nbtnUp.addEventListener();\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$accce79a90da039e$exports","URL","resolve","import","meta","url","toString","$cc73544bddc4198f$exports","$1f0dc3b9307be026$var$themeSwitcher","document","getElementById","$1f0dc3b9307be026$var$body","body","$1f0dc3b9307be026$var$header","$1f0dc3b9307be026$var$logo","$1f0dc3b9307be026$var$mobileMenuCloseButton","querySelector","getElementsByClassName","$1f0dc3b9307be026$var$setDarkThemeStyles","style","setProperty","src","$parcel$interopDefault","visibility","$1f0dc3b9307be026$var$setLightThemeStyles","console","log","localStorage","getItem","classList","add","checked","remove","addEventListener","toggle","contains","setItem","refs","openMenuBtn","querySelectorAll","closeMenuBtn","menu","toggleMenu","forEach","el","$1f0dc3b9307be026$var$listBook","$1f0dc3b9307be026$var$listCategory","$1f0dc3b9307be026$var$newTitle","$1f0dc3b9307be026$var$serviceThisCategory","res","fetch","then","resp","ok","statusText","json","$1f0dc3b9307be026$var$onClick","evt","result","target","textContent","trimStart","data","innerHTML","$1f0dc3b9307be026$var$createBooks","textElement","list_name","split","titleCategory","splice","join","spanCategory","catch","err","arr","map","_id","book_image","author","title","$1f0dc3b9307be026$var$onClickBtn","closest","currentTarget","children","$1f0dc3b9307be026$var$newTitleName","bookItem","dataset","idBook","description","buy_links","basicLightbox","create","show","insertAdjacentHTML","books","itemCategory","seeMore","this","hide","window","scrollY","documentElement","scrollTop","onclick","scrollTo","top","left","behavior"],"version":3,"file":"index.756b562a.js.map"}