const e=document.querySelector(".shopping-book-list"),o=document.querySelector(".first-btn"),t=document.querySelector(".prev-btn"),l=document.querySelector(".prev-numer-btn"),n=document.querySelector(".now-btn"),c=document.querySelector(".next-numer-btn"),s=document.querySelector(".next-btn"),i=document.querySelector(".last-btn");function a(o){var t;(t=o,fetch(`https://books-backend.p.goit.global/books/${t}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))).then((({_id:o,book_image:t,author:l,title:n,description:c,list_name:s})=>{e.insertAdjacentHTML("beforeend",`<li class="shoping-book-card ${o.slice(-5)}">\n              <div class="shoping-book-card-img">\n        <img src="${t}" alt="${o}"width="335" height="485">\n      </div>\n      <div class="shoping-book-card-text">\n        <div class="shoping-book-card-title_and_ganre">\n            <h3 class="shoping-book-card-title">${n}</h3>\n            <h3 class="shoping-book-card-title">${o}</h3>\n            <h4 class="shoping-book-card-ganre">${s}</h4>\n            <p class="shoping-book-card-description">${c}</p>\n        </div>\n        <h4 class="shoping-book-card-author">${l}</h4>\n      </div>\n       <div class="shoping-list-images">\n          <ul class="list-images">\n            <li><a href="https://www.amazon.com/" class="image-link image-link-amazon"></a></li>\n            <li><a href="https://www.openebooks.org/" class="image-link image-link-openBook"></a></li>\n            <li><a href="https://bookshop.org/" class="image-link image-link-bookShop"></a></li>\n          </ul>\n        </div>\n      <button class="shoping-list-btn shoping-list-btn${n.toLowerCase().replace(/\s/g,"").replace(/[.,';!&:]/g,"")}">\n      \n    </button>\n            </li>`),console.log(`ОТРИСОВЫВАЮ ${o}`);const i=document.querySelector(`.shoping-list-btn${n.toLowerCase().replace(/\s/g,"").replace(/[.,;!&:]/g,"")}`);i.addEventListener("click",(()=>{console.log("DO"),console.log(localStorage);const t=i.closest(".shoping-book-card");if(t){e.removeChild(t),localStorage.removeItem(o);const l=document.querySelectorAll(".shoping-book-card");if(0===l.length){const e=document.querySelector(".empty-shopping-list-div"),o=document.querySelector(".pagination");e.style.display="block",o.style.display="none"}l.length<3&&localStorage.length>3&&(a(function(){const e=Object.keys(localStorage),o=Array.from(document.querySelectorAll(".shoping-book-card")).map((e=>e.classList[1]));for(const t of e)if("BOOK"===localStorage[t]){const e=t.slice(-5);if(!o.includes(e))return console.log("firstID"),console.log(t),t}}()),console.log("Запускает отрисовку"))}}))}))}function r(o){const t=3*(o-1),l=t+3,n=Object.keys(localStorage);if(console.log(localStorage),e.innerHTML="",localStorage.length>1)for(let e=t;e<l&&e<n.length;e++){let o;if(console.log("ЭЛЕМЕНТ"),o="theme"===n[e]?"theme"==n[n.lendth-1]?n[n.length-2]:n[n.length-1]:n[e],console.log(n),console.log(n[e]),console.log(`Количество єлементов в списке: ${n.length}`),console.log(`ПОСЛЕДНИЙ ЭЛЕМЕНТ ${n[n.length-1]}`),"BOOK"===localStorage[o]){const e=document.querySelector(".empty-shopping-list-div");a(o);document.querySelector(".pagination").style.display="flex",e.style.display="none"}}else{document.querySelector(".empty-shopping-list-div").style.display="block";document.querySelector(".pagination").style.display="none"}}console.log("Количество элементов в локальном хранилище: "+localStorage.length),console.log("ОБДЖЕКТ КЕЙС"),console.log(Object.keys(localStorage));let g=1;function d(){const e=Object.keys(localStorage).filter((e=>"BOOK"===localStorage[e])).length,o=Math.ceil(e/3);l.textContent=g-1,n.textContent=g,c.textContent=g+1,1==g&&(l.textContent="-"),g==o&&(c.textContent="-")}o.addEventListener("click",(()=>{g=1,d(),r(g)})),t.addEventListener("click",(()=>{g>1&&(g--,d(),r(g))})),l.addEventListener("click",(()=>{g>1&&(g--,d(),r(g))})),c.addEventListener("click",(()=>{const e=Object.keys(localStorage).filter((e=>"BOOK"===localStorage[e])).length,o=Math.ceil(e/3);g<o&&(g++,d(),r(g))})),s.addEventListener("click",(()=>{const e=Object.keys(localStorage).filter((e=>"BOOK"===localStorage[e])).length,o=Math.ceil(e/3);g<o&&(g++,d(),r(g))})),i.addEventListener("click",(()=>{const e=Object.keys(localStorage).filter((e=>"BOOK"===localStorage[e])).length,o=Math.ceil(e/3);g=o,d(),r(g)})),d(),r(g);
//# sourceMappingURL=shoping-list.43004440.js.map
